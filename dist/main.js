!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var o=function(){var t=document.querySelector(".menu-nav"),e=document.querySelector(".search");document.addEventListener("click",(function(r){r.target.closest(".menu-button")&&(t.classList.toggle("active"),e.classList.toggle("active"))}))},n=function(t,e,r){var o=document.querySelector(".popup-".concat(t,"-list"));o.textContent="",e.forEach((function(e,n){var i=document.createElement("li"),c=document.createElement("p"),a=document.createElement("img"),s=document.createElement("a");i.classList.add("popup-".concat(t,"-item")),i.classList.add("popup-".concat(t,"-item-").concat(n)),a.classList.add("popup-".concat(t,"-img")),s.classList.add("popup-".concat(t,"-delete")),c.innerHTML=e.name,a.setAttribute("src","".concat(e.img[0])),o.append(i),i.append(c),i.append(a),i.append(s),r.forEach((function(t,e){n===e&&a.setAttribute("style","".concat(t))}))}))},i=function(t,e,r,o){t.splice(+r.closest(".popup-".concat(o,"-item")).getAttribute("class").replace(/\D+/,""),1),e.splice(+r.closest(".popup-".concat(o,"-item")).getAttribute("class").replace(/\D+/,""),1)},c=function(){document.querySelector(".product-other-item").children},a=function(t,e){var r=document.querySelector(".product-img").querySelector("img"),o=document.querySelector(".product-other-item").querySelectorAll("img");return o.forEach((function(o,n){t.getAttribute("src")===o.getAttribute("src")?(c(e=n),function(t,e){e.classList.add("active"),t.setAttribute("src","".concat(e.getAttribute("src")))}(r,o)):function(t){t.classList.remove("active")}(o)})),e},s=function(){var t,e,r=document.querySelector(".product-img").querySelector("img"),o=document.querySelector(".product-name"),c=document.querySelector(".product-other-item"),s=document.querySelector(".catalog-list"),l=0,u={favoriteArr:localStorage.favoriteArr?JSON.parse(localStorage.favoriteArr):[],favoriteColor:localStorage.favoriteColor?JSON.parse(localStorage.favoriteColor):[]},p={cartArr:localStorage.cartArr?JSON.parse(localStorage.cartArr):[],cartColor:localStorage.cartColor?JSON.parse(localStorage.cartColor):[]};fetch("catalog/catalog.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(200!==t.status)throw new Error("Ошибка");return t.json()})).then((function(o){n("favorite",u.favoriteArr,u.favoriteColor),n("cart",p.cartArr,p.cartColor),v(o[0]),o.forEach((function(t){return m(t)})),s.children[0].classList.add("active"),c.children[0].classList.add("active"),document.querySelector(".change-color").style.setProperty("--module-color","0deg"),document.addEventListener("click",(function(t){t.target.closest(".catalog-item")&&o.forEach((function(e){t.target.getAttribute("src")===e.img[0]&&(d(t.target.closest(".catalog-item")),c.children[0].classList.add("active"),v(e))})),t.target.closest(".popup-favorite-item")&&u.favoriteArr.forEach((function(e){u.favoriteColor.forEach((function(r){e.name.replace(/<br>/,"")===t.target.closest(".popup-favorite-item").querySelector("p").textContent&&t.target.closest(".popup-favorite-item").querySelector("img").getAttribute("style").replace(/\D/gi,"")===r&&g(e,r)}))})),t.target.closest(".popup-cart-item")&&p.cartArr.forEach((function(e){p.cartColor.forEach((function(r){e.name.replace(/<br>/,"")===t.target.closest(".popup-cart-item").querySelector("p").textContent&&t.target.closest(".popup-cart-item").querySelector("img").getAttribute("style").replace(/\D/gi,"")===r&&g(e,r)}))})),(t.target.closest(".popup-favorite-delete")||t.target.closest(".product-favorite"))&&(t.target.closest(".popup-favorite-delete")&&(i(u.favoriteArr,u.favoriteColor,t.target,"favorite"),n("favorite",u.favoriteArr,u.favoriteColor)),t.target.closest(".product-favorite")&&(u.favoriteArr.push(e),u.favoriteColor.push(r.getAttribute("style").replace(/\D/gi,"")),n("favorite",u.favoriteArr,u.favoriteColor)),localStorage.setItem("favoriteArr",JSON.stringify(u.favoriteArr)),localStorage.setItem("favoriteColor",JSON.stringify(u.favoriteColor))),(t.target.closest(".popup-cart-delete")||t.target.closest(".product-cart"))&&(t.target.closest(".product-cart")&&(p.cartArr.push(e),p.cartColor.push(r.getAttribute("style").replace(/\D/gi,"")),n("cart",p.cartArr,p.cartColor)),t.target.closest(".popup-cart-delete")&&(i(p.cartArr,p.cartColor,t.target,"cart"),localStorage.removeItem("cartArr"),localStorage.removeItem("cartColor"),n("cart",p.cartArr,p.cartColor)),localStorage.setItem("cartArr",JSON.stringify(p.cartArr)),localStorage.setItem("cartColor",JSON.stringify(p.cartColor)))})),t=document.querySelector(".product-other-item").querySelectorAll("img"),document.addEventListener("click",(function(e){(e.target.closest(".product-img")||e.target.closest(".product-arrow"))&&(++l>t.length-1&&(l=0),l=a(t[l],l))})),document.addEventListener("mouseover",(function(t){t.target.closest(".product-other-item img")&&(l=a(t.target,l))}))})).catch((function(t){return console.error(t)}));var d=function(t){l=0,document.querySelectorAll(".catalog-item").forEach((function(e){e===t?e.classList.add("active"):e.classList.remove("active")}))},f=function(t){var e=document.createElement("img");e.setAttribute("src","".concat(t)),c.append(e)},m=function(t){var e=document.createElement("li"),r=document.createElement("img"),o=document.createElement("p");e.classList.add("catalog-item"),r.classList.add("catalog-item_img"),o.classList.add("catalog-item-text"),r.setAttribute("src","".concat(t.img[0])),o.innerHTML="".concat(t.name),s.append(e),e.append(o),e.append(r)},g=function(n,i){c.textContent="";var a=n.img;r.setAttribute("src","".concat(a[0])),r.style.setProperty("--module-color",i+"deg"),o.innerHTML="".concat(n.name),a.forEach((function(t,e){f(t)})),t=document.querySelector(".product-other-item").querySelectorAll("img"),e=n},v=function(n){c.textContent="";var i=n.img;r.setAttribute("src","".concat(i[0])),o.innerHTML="".concat(n.name),i.forEach((function(t,e){f(t)})),t=document.querySelector(".product-other-item").querySelectorAll("img"),e=n}},l=function(){var t=document.querySelectorAll(".palette-colours_item"),e=document.querySelector(".change-color");document.addEventListener("click",(function(r){r.target.matches(".palette-colours_item")&&t.forEach((function(t,o){var n;t===r.target?((n=t).classList.add("active"),e.style.setProperty("--module-color",n.value+"deg")):function(t){t.classList.remove("active")}(t)}))}))},u=function(){var t=document.querySelector(".popup-sign-up"),e=document.querySelector(".popup-sign-in"),r=document.querySelector(".popup-button-sign-up"),o=document.querySelector(".popup-button-sign-in");document.addEventListener("click",(function(n){n.target.matches(".popup-button-sign-in")&&(t.classList.remove("active"),e.classList.add("active"),o.classList.remove("active"),r.classList.add("active")),n.target.matches(".popup-button-sign-up")&&(e.classList.remove("active"),t.classList.add("active"),r.classList.remove("active"),o.classList.add("active"))}))},p=function(t,e,r){var o=document.querySelector(t);document.addEventListener("click",(function(t){(t.target.closest(e)||t.target.closest(r))&&o.classList.toggle("active")}))},d=function(){var t=document.querySelector(".preloader");window.addEventListener("load",(function(){setTimeout((function(){t.classList.contains("done")||t.classList.add("done")}),500)}))};function f(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){a=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function g(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v=function(){function t(e){var r=e.main,o=e.wrap,n=e.next,i=e.prev,c=e.position,a=void 0===c?0:c,s=e.slidesToShow,l=void 0===s?2:s,u=e.infinity;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=document.querySelector(r),this.wrap=document.querySelector(o),this.slides=document.querySelector(o).children,this.next=document.querySelector(n),this.prev=document.querySelector(i),this.slidesToShow=l,this.options={infinity:u,position:a,widthSlide:Math.floor(100/this.slidesToShow)}}var e,r,o;return e=t,(r=[{key:"init",value:function(){this.addClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider()}},{key:"addClass",value:function(){this.main.classList.add("payment-slider-wrapper"),this.wrap.classList.add("payment-slider");var t,e=f(this.slides);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("payment-slider_slide")}catch(t){e.e(t)}finally{e.f()}}},{key:"addStyle",value:function(){var t=document.createElement("style");t.textContent=t.textContent+"\n      .payment-slider {\n        display: flex !important;\n        transition: transform .5s !important;\n        will-change: transform !important;\n      }\n      .payment-slider_slide {\n        flex: 0 0 ".concat(this.options.widthSlide,"% !important;\n        margin: auto 0 !important;\n      }\n    "),document.head.append(t)}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0?(this.options.position=this.slides.length-this.slidesToShow,this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)")):this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}},{key:"nextSlider",value:function(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}}])&&g(e.prototype,r),o&&g(e,o),t}(),h=function(){var t=document.querySelector(".catalog"),e=document.querySelector(".catalog-arrow");document.addEventListener("click",(function(r){r.target.closest("#catalog-arrow")&&(t.classList.toggle("active"),e.classList.toggle("active"))}))};o(),s(),l(),u(),p(".popup-favorite",".favorite",".popup-favorite-close"),p(".popup-login","#login",".popup-login-close"),p(".popup-cart",".cart",".popup-cart-close"),d(),new v({main:".payment-slider-wrapper",wrap:".payment-slider",prev:"#payment-arrow-left",next:"#payment-arrow-right",slidesToShow:2,infinity:!0}).init(),h()}]);