!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dist",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);var r=function(){var t=document.querySelector(".menu-nav"),e=document.querySelector(".search");document.addEventListener("click",(function(o){o.target.closest(".menu-button")&&(t.classList.toggle("active"),document.body.clientWidth>900&&e.classList.toggle("active"))}))},n=function(t,e,o){var r=document.querySelector(".popup-".concat(t,"-list"));r.textContent="",e.forEach((function(e,n){var i=document.createElement("li"),a=document.createElement("p"),c=document.createElement("img"),s=document.createElement("a");i.classList.add("popup-".concat(t,"-item")),i.classList.add("popup-".concat(t,"-item-").concat(n)),c.classList.add("popup-".concat(t,"-img")),s.classList.add("popup-".concat(t,"-delete")),a.innerHTML=e.name,c.setAttribute("src","".concat(e.img[0])),r.append(i),i.append(a),i.append(c),i.append(s),o.forEach((function(t,e){n===e&&c.setAttribute("style","".concat(t))}))}))},i=function(t,e,o,r){t.splice(+o.closest(".popup-".concat(r,"-item")).getAttribute("class").replace(/\D+/,""),1),e.splice(+o.closest(".popup-".concat(r,"-item")).getAttribute("class").replace(/\D+/,""),1)},a=function(){var t,e,o=document.querySelector(".product-img").querySelector("img"),r=document.querySelector(".product-name"),a=document.querySelector(".product-other-item"),c=document.querySelector(".catalog-list"),s={favoriteArr:localStorage.favoriteArr?JSON.parse(localStorage.favoriteArr):[],favoriteColor:localStorage.favoriteColor?JSON.parse(localStorage.favoriteColor):[]},l={cartArr:localStorage.cartArr?JSON.parse(localStorage.cartArr):[],cartColor:localStorage.cartColor?JSON.parse(localStorage.cartColor):[]};fetch("catalog/catalog.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(200!==t.status)throw new Error("Ошибка");return t.json()})).then((function(r){n("favorite",s.favoriteArr,s.favoriteColor),n("cart",l.cartArr,l.cartColor),g(r[0]),r.forEach((function(t){return m(t)})),c.children[0].classList.add("active"),a.children[0].classList.add("active"),document.addEventListener("click",(function(t){t.target.closest(".catalog-item")&&r.forEach((function(e){t.target.getAttribute("src")===e.img[0]&&(u(t.target.closest(".catalog-item")),a.children[0].classList.add("active"),g(e))})),t.target.closest(".popup-favorite-item")&&s.favoriteArr.forEach((function(e){s.favoriteColor.forEach((function(o){e.name.replace(/<br>/,"")===t.target.closest(".popup-favorite-item").querySelector("p").textContent&&t.target.closest(".popup-favorite-item").querySelector("img").getAttribute("style").replace(/\D/gi,"")===o&&v(e,o)}))})),t.target.closest(".popup-cart-item")&&l.cartArr.forEach((function(e){l.cartColor.forEach((function(o){e.name.replace(/<br>/,"")===t.target.closest(".popup-cart-item").querySelector("p").textContent&&t.target.closest(".popup-cart-item").querySelector("img").getAttribute("style").replace(/\D/gi,"")===o&&v(e,o)}))})),(t.target.closest(".popup-favorite-delete")||t.target.closest(".product-favorite"))&&(t.target.closest(".popup-favorite-delete")&&(i(s.favoriteArr,s.favoriteColor,t.target,"favorite"),n("favorite",s.favoriteArr,s.favoriteColor)),t.target.closest(".product-favorite")&&(s.favoriteArr.push(e),s.favoriteColor.push(o.getAttribute("style").replace(/\D/gi,"")),n("favorite",s.favoriteArr,s.favoriteColor)),localStorage.setItem("favoriteArr",JSON.stringify(s.favoriteArr)),localStorage.setItem("favoriteColor",JSON.stringify(s.favoriteColor))),(t.target.closest(".popup-cart-delete")||t.target.closest(".product-cart"))&&(t.target.closest(".product-cart")&&(l.cartArr.push(e),l.cartColor.push(o.getAttribute("style").replace(/\D/gi,"")),n("cart",l.cartArr,l.cartColor)),t.target.closest(".popup-cart-delete")&&(i(l.cartArr,l.cartColor,t.target,"cart"),localStorage.removeItem("cartArr"),localStorage.removeItem("cartColor"),n("cart",l.cartArr,l.cartColor)),localStorage.setItem("cartArr",JSON.stringify(l.cartArr)),localStorage.setItem("cartColor",JSON.stringify(l.cartColor)))})),t=document.querySelector(".product-other-item").querySelectorAll("img"),document.addEventListener("mouseover",(function(e){e.target.closest(".product-other-item img")&&t.forEach((function(t){e.target===t?p(t):d(t)}))}))})).catch((function(t){return console.error(t)}));var u=function(t){document.querySelectorAll(".catalog-item").forEach((function(e){e===t?e.classList.add("active"):e.classList.remove("active")}))},p=function(t){t.classList.add("active"),o.setAttribute("src","".concat(t.getAttribute("src")))},d=function(t){t.classList.remove("active")},f=function(t){var e=document.createElement("img");e.setAttribute("src","".concat(t)),a.append(e)},m=function(t){var e=document.createElement("li"),o=document.createElement("img"),r=document.createElement("p");e.classList.add("catalog-item"),o.classList.add("catalog-item_img"),r.classList.add("catalog-item-text"),o.setAttribute("src","".concat(t.img[0])),r.innerHTML="".concat(t.name),c.append(e),e.append(r),e.append(o)},v=function(n,i){a.textContent="";var c=n.img;o.setAttribute("src","".concat(c[0])),o.style.setProperty("--module-color",i+"deg"),r.innerHTML="".concat(n.name),c.forEach((function(t,e){f(t)})),t=document.querySelector(".product-other-item").querySelectorAll("img"),e=n},g=function(n){a.textContent="";var i=n.img;o.setAttribute("src","".concat(i[0])),r.innerHTML="".concat(n.name),i.forEach((function(t,e){f(t)})),t=document.querySelector(".product-other-item").querySelectorAll("img"),e=n}},c=function(){var t=document.querySelectorAll(".palette-colours_item"),e=document.querySelector(".change-color");document.addEventListener("click",(function(o){o.target.matches(".palette-colours_item")&&t.forEach((function(t,r){var n;t===o.target?((n=t).classList.add("active"),e.style.setProperty("--module-color",n.value+"deg")):function(t){t.classList.remove("active")}(t)}))}))},s=function(){var t=document.querySelector(".popup-sign-up"),e=document.querySelector(".popup-sign-in"),o=document.querySelector(".popup-button-sign-up"),r=document.querySelector(".popup-button-sign-in");document.addEventListener("click",(function(n){n.target.matches(".popup-button-sign-in")&&(t.classList.remove("active"),e.classList.add("active"),r.classList.remove("active"),o.classList.add("active")),n.target.matches(".popup-button-sign-up")&&(e.classList.remove("active"),t.classList.add("active"),o.classList.remove("active"),r.classList.add("active"))}))},l=function(t,e,o){var r=document.querySelector(t);document.addEventListener("click",(function(t){(t.target.closest(e)||t.target.matches(o))&&r.classList.toggle("active")}))},u=function(){var t=document.querySelector(".preloader");window.addEventListener("load",(function(){setTimeout((function(){t.classList.contains("done")||t.classList.add("done")}),500)}))};function p(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function f(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(e){var o=e.main,r=e.wrap,n=e.next,i=e.prev,a=e.position,c=void 0===a?0:a,s=e.slidesToShow,l=void 0===s?2:s,u=e.infinity;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=document.querySelector(o),this.wrap=document.querySelector(r),this.slides=document.querySelector(r).children,this.next=document.querySelector(n),this.prev=document.querySelector(i),this.slidesToShow=l,this.options={infinity:u,position:c,widthSlide:Math.floor(100/this.slidesToShow)}}var e,o,r;return e=t,(o=[{key:"init",value:function(){this.addClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider()}},{key:"addClass",value:function(){this.main.classList.add("payment-slider-wrapper"),this.wrap.classList.add("payment-slider");var t,e=p(this.slides);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("payment-slider_slide")}catch(t){e.e(t)}finally{e.f()}}},{key:"addStyle",value:function(){var t=document.createElement("style");t.textContent=t.textContent+"\n      .payment-slider {\n        display: flex !important;\n        transition: transform .5s !important;\n        will-change: transform !important;\n      }\n      .payment-slider_slide {\n        flex: 0 0 ".concat(this.options.widthSlide,"% !important;\n        margin: auto 0 !important;\n      }\n    "),document.head.append(t)}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0?(this.options.position=this.slides.length-this.slidesToShow,this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)")):this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}},{key:"nextSlider",value:function(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}}])&&f(e.prototype,o),r&&f(e,r),t}();r(),a(),c(),s(),l(".popup-favorite",".favorite",".popup-favorite-close"),l(".popup-login","#login",".popup-login-close"),l(".popup-cart",".cart",".popup-cart-close"),u(),new m({main:".payment-slider-wrapper",wrap:".payment-slider",prev:"#payment-arrow-left",next:"#payment-arrow-right",slidesToShow:2,infinity:!0}).init()}]);