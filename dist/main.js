!function(t){var e={};function r(o){if(e[o])return e[o].exports;var c=e[o]={i:o,l:!1,exports:{}};return t[o].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)r.d(o,c,function(e){return t[e]}.bind(null,c));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var o=function(t,e,r){var o=document.querySelector(".popup-".concat(t,"-list"));o.textContent="",e.forEach((function(e,c){var a=document.createElement("li"),n=document.createElement("p"),i=document.createElement("img"),l=document.createElement("a");a.classList.add("popup-".concat(t,"-item")),a.classList.add("popup-".concat(t,"-item-").concat(c)),i.classList.add("popup-".concat(t,"-img")),l.classList.add("popup-".concat(t,"-delete")),n.innerHTML=e.name,i.setAttribute("src","".concat(e.img[0])),o.append(a),a.append(n),a.append(i),a.append(l),r.forEach((function(t,e){c===e&&i.setAttribute("style","".concat(t))}))}))},c=function(t,e,r,o){t.splice(+r.closest(".popup-".concat(o,"-item")).getAttribute("class").replace(/\D+/,""),1),e.splice(+r.closest(".popup-".concat(o,"-item")).getAttribute("class").replace(/\D+/,""),1)},a=function(){var t,e,r=document.querySelector(".product-img").querySelector("img"),a=document.querySelector(".product-name"),n=document.querySelector(".product-other-item"),i=document.querySelector(".catalog-list"),l={favoriteArr:localStorage.favoriteArr?JSON.parse(localStorage.favoriteArr):[],favoriteColor:localStorage.favoriteColor?JSON.parse(localStorage.favoriteColor):[]},s={cartArr:localStorage.cartArr?JSON.parse(localStorage.cartArr):[],cartColor:localStorage.cartColor?JSON.parse(localStorage.cartColor):[]};fetch("catalog/catalog.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(200!==t.status)throw new Error("Ошибка");return t.json()})).then((function(a){o("favorite",l.favoriteArr,l.favoriteColor),o("cart",s.cartArr,s.cartColor),v(a[0]),a.forEach((function(t){return m(t)})),i.children[0].classList.add("active"),n.children[0].classList.add("active"),document.addEventListener("click",(function(t){t.target.closest(".catalog-item")&&a.forEach((function(e){t.target.getAttribute("src")===e.img[0]&&(u(t.target.closest(".catalog-item")),n.children[0].classList.add("active"),v(e))})),t.target.closest(".popup-favorite-item")&&l.favoriteArr.forEach((function(e){l.favoriteColor.forEach((function(r){e.name.replace(/<br>/,"")===t.target.closest(".popup-favorite-item").querySelector("p").textContent&&t.target.closest(".popup-favorite-item").querySelector("img").getAttribute("style").replace(/\D/gi,"")===r&&g(e,r)}))})),t.target.closest(".popup-cart-item")&&s.cartArr.forEach((function(e){s.cartColor.forEach((function(r){e.name.replace(/<br>/,"")===t.target.closest(".popup-cart-item").querySelector("p").textContent&&t.target.closest(".popup-cart-item").querySelector("img").getAttribute("style").replace(/\D/gi,"")===r&&g(e,r)}))})),(t.target.closest(".popup-favorite-delete")||t.target.closest(".product-favorite"))&&(t.target.closest(".popup-favorite-delete")&&(c(l.favoriteArr,l.favoriteColor,t.target,"favorite"),o("favorite",l.favoriteArr,l.favoriteColor)),t.target.closest(".product-favorite")&&(l.favoriteArr.push(e),l.favoriteColor.push(r.getAttribute("style").replace(/\D/gi,"")),o("favorite",l.favoriteArr,l.favoriteColor)),localStorage.setItem("favoriteArr",JSON.stringify(l.favoriteArr)),localStorage.setItem("favoriteColor",JSON.stringify(l.favoriteColor))),(t.target.closest(".popup-cart-delete")||t.target.closest(".product-cart"))&&(t.target.closest(".product-cart")&&(s.cartArr.push(e),s.cartColor.push(r.getAttribute("style").replace(/\D/gi,"")),o("cart",s.cartArr,s.cartColor)),t.target.closest(".popup-cart-delete")&&(c(s.cartArr,s.cartColor,t.target,"cart"),localStorage.removeItem("cartArr"),localStorage.removeItem("cartColor"),o("cart",s.cartArr,s.cartColor)),localStorage.setItem("cartArr",JSON.stringify(s.cartArr)),localStorage.setItem("cartColor",JSON.stringify(s.cartColor)))})),t=document.querySelector(".product-other-item").querySelectorAll("img"),document.addEventListener("mouseover",(function(e){e.target.closest(".product-other-item img")&&t.forEach((function(t){e.target===t?p(t):d(t)}))}))})).catch((function(t){return console.error(t)}));var u=function(t){document.querySelectorAll(".catalog-item").forEach((function(e){e===t?e.classList.add("active"):e.classList.remove("active")}))},p=function(t){t.classList.add("active"),r.setAttribute("src","".concat(t.getAttribute("src")))},d=function(t){t.classList.remove("active")},f=function(t){var e=document.createElement("img");e.setAttribute("src","".concat(t)),n.append(e)},m=function(t){var e=document.createElement("li"),r=document.createElement("img"),o=document.createElement("p");e.classList.add("catalog-item"),r.classList.add("catalog-item_img"),o.classList.add("catalog-item-text"),r.setAttribute("src","".concat(t.img[0])),o.innerHTML="".concat(t.name),i.append(e),e.append(o),e.append(r)},g=function(o,c){n.textContent="";var i=o.img;r.setAttribute("src","".concat(i[0])),r.style.setProperty("--module-color",c+"deg"),a.innerHTML="".concat(o.name),i.forEach((function(t,e){f(t)})),t=document.querySelector(".product-other-item").querySelectorAll("img"),e=o},v=function(o){n.textContent="";var c=o.img;r.setAttribute("src","".concat(c[0])),a.innerHTML="".concat(o.name),c.forEach((function(t,e){f(t)})),t=document.querySelector(".product-other-item").querySelectorAll("img"),e=o}},n=function(){var t=document.querySelectorAll(".palette-colours_item"),e=document.querySelector(".change-color");document.addEventListener("click",(function(r){r.target.matches(".palette-colours_item")&&t.forEach((function(t,o){var c;t===r.target?((c=t).classList.add("active"),e.style.setProperty("--module-color",c.value+"deg")):function(t){t.classList.remove("active")}(t)}))}))},i=function(){var t=document.querySelector(".popup-sign-up"),e=document.querySelector(".popup-sign-in"),r=document.querySelector(".popup-button-sign-up"),o=document.querySelector(".popup-button-sign-in");document.addEventListener("click",(function(c){c.target.matches(".popup-button-sign-in")&&(t.classList.remove("active"),e.classList.add("active"),o.classList.remove("active"),r.classList.add("active")),c.target.matches(".popup-button-sign-up")&&(e.classList.remove("active"),t.classList.add("active"),r.classList.remove("active"),o.classList.add("active"))}))},l=function(t,e,r){var o=document.querySelector(t);document.addEventListener("click",(function(t){(t.target.closest(e)||t.target.matches(r))&&o.classList.toggle("active")}))},s=function(){var t=document.querySelector(".preloader");window.addEventListener("load",(function(){setTimeout((function(){t.classList.contains("done")||t.classList.add("done")}),500)}))};(function(){var t=document.querySelector(".menu-nav"),e=document.querySelector(".search");document.addEventListener("click",(function(r){r.target.closest(".menu-button")&&(t.classList.toggle("active"),e.classList.toggle("active"))}))})(),a(),n(),i(),l(".popup-favorite",".favorite",".popup-favorite-close"),l(".popup-login","#login",".popup-login-close"),l(".popup-cart",".cart",".popup-cart-close"),s()}]);